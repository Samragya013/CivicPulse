:root{
  --bg:#070A12;
  --panel:#0B1020;
  --panel2:#090D1A;
  --grid:rgba(67,94,255,0.07);
  --text:#EAF0FF;
  --muted:rgba(234,240,255,0.65);
  --stroke:rgba(234,240,255,0.10);

  --glass: rgba(11,16,32,0.72);
  --glass2: rgba(7,10,18,0.42);
  --glowBlue: rgba(55,182,255,0.28);
  --glowRed: rgba(255,77,109,0.22);
  --glowGreen: rgba(61,255,181,0.24);

  --blue:#37B6FF;
  --yellow:#FFD166;
  --red:#FF4D6D;
  --green:#3DFFB5;

  --shadow: 0 18px 55px rgba(0,0,0,0.58);

  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Hide scrollbars but keep scroll functionality */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  letter-spacing: 0.1px;
  background:
    radial-gradient(1100px 720px at 80% -10%, rgba(55,182,255,0.08), transparent 55%),
    radial-gradient(900px 740px at 10% 10%, rgba(255,77,109,0.06), transparent 60%),
    radial-gradient(800px 520px at 40% 120%, rgba(61,255,181,0.04), transparent 55%),
    #000000;
  color:var(--text);
  overflow:hidden;
}

.bg-particles{
  position:fixed;
  inset:0;
  width:100%;
  height:100%;
  z-index:0;
  pointer-events:none;
  opacity:1;
  filter: saturate(1.5) brightness(1.2) blur(0.1px);
}

.bg-grid{
  position:fixed;
  inset:0;
  z-index:1;
  background:
    linear-gradient(to right, var(--grid) 1px, transparent 1px),
    linear-gradient(to bottom, var(--grid) 1px, transparent 1px);
  background-size: 36px 36px;
  mask-image: radial-gradient(circle at 50% 20%, rgba(0,0,0,1), rgba(0,0,0,0));
  pointer-events:none;
}

.topbar{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 0 18px;
  border-bottom: 1px solid var(--stroke);
  background: rgba(7,10,18,0.70);
  backdrop-filter: blur(10px);
  position:relative;
  z-index:3;
}

.brand{display:flex; gap:12px; align-items:center}
.brand__dot{
  width:10px;height:10px;border-radius:999px;
  background:var(--green);
  box-shadow: 0 0 18px rgba(61,255,181,0.55);
}
.brand__title{font-weight:700; letter-spacing:0.2px}
.brand__subtitle{font-size:12px; color:var(--muted)}

.statusline{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}
.chip{
  font-size:12px;
  padding:7px 10px;
  border:1px solid var(--stroke);
  border-radius:999px;
  background: rgba(11,16,32,0.68);
  color:var(--muted);
}
.chip--live{color:var(--green); border-color: rgba(61,255,181,0.28)}
.chip--link{color:var(--blue); text-decoration:none}

.viewToggle{
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-weight: 600;
  font-size: 14px;
  padding: 12px 28px;
  border: 2px solid rgba(55,182,255,0.4);
  border-radius: 16px;
  background: rgba(11,16,32,0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(55,182,255,0.95);
  cursor: pointer;
  transition: all 280ms cubic-bezier(0.34, 1.56, 0.64, 1);
  box-shadow: 
    0 6px 20px rgba(0,0,0,0.3),
    0 0 40px rgba(55,182,255,0.08),
    inset 0 1px 2px rgba(255,255,255,0.05);
  letter-spacing: 0.4px;
  position: relative;
  overflow: hidden;
}

.viewToggle:before{
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 16px;
  padding: 2px;
  background: linear-gradient(135deg, 
    rgba(55,182,255,0.8), 
    rgba(61,255,181,0.7),
    rgba(138,43,226,0.6),
    rgba(55,182,255,0.8));
  background-size: 300% 300%;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  opacity: 0.7;
  animation: gradientShift 6s linear infinite;
}

.viewToggle:hover{
  transform: translateY(-2px) scale(1.04);
  box-shadow: 
    0 10px 32px rgba(0,0,0,0.4),
    0 0 60px rgba(55,182,255,0.2),
    inset 0 1px 3px rgba(255,255,255,0.08);
  background: rgba(11,16,32,0.30);
  color: rgba(55,182,255,1);
  border-color: rgba(55,182,255,0.7);
}

.viewToggle:hover:before{
  opacity: 1;
}

.viewToggle:active{
  transform: translateY(0) scale(0.98);
  box-shadow: 
    0 4px 16px rgba(0,0,0,0.3),
    0 0 30px rgba(55,182,255,0.12),
    inset 0 1px 2px rgba(255,255,255,0.05);
}

.layout{
  height: calc(100% - 64px);
  display:grid;
  grid-template-columns: 360px 1fr 420px;
  gap:14px;
  padding: 14px;
  position:relative;
  z-index:2;
}

.panel{
  border:2px solid rgba(55,182,255,0.4);
  border-radius:24px;
  background: rgba(8,12,24,0.12);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  box-shadow: 
    0 20px 60px rgba(0,0,0,0.4),
    0 0 80px rgba(55,182,255,0.12),
    inset 0 2px 4px rgba(255,255,255,0.04),
    inset 0 -2px 4px rgba(0,0,0,0.2);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  transform: translateZ(0);
  position:relative;
}

.panel:before{
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:24px;
  padding:3px;
  background: linear-gradient(135deg, 
    rgba(55,182,255,1), 
    rgba(61,255,181,0.9),
    rgba(255,77,109,0.8), 
    rgba(138,43,226,0.9),
    rgba(55,182,255,1));
  background-size: 400% 400%;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events:none;
  opacity: 1;
  animation: pulseGlow 4s ease-in-out infinite, gradientShift 8s linear infinite;
  filter: blur(1.5px);
}

@keyframes pulseGlow{
  0%, 100% { 
    opacity: 0.6;
    filter: blur(1px);
  }
  50% { 
    opacity: 1;
    filter: blur(2px);
  }
}

@keyframes gradientShift{
  0% { background-position: 0% 50%; }
  25% { background-position: 100% 50%; }
  50% { background-position: 100% 100%; }
  75% { background-position: 0% 100%; }
  100% { background-position: 0% 50%; }
}

.panel__header{
  padding: 14px 14px 10px;
  border-bottom: 1px solid var(--stroke);
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  position: relative;
}
.panel__title{font-weight:700; letter-spacing:0.2px; font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;}
.panel__meta{font-size:12px; color:var(--muted); font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;}

.closeBtn{
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
  width:32px;
  height:32px;
  border-radius:8px;
  border:1px solid var(--stroke);
  background: rgba(9,13,26,0.40);
  backdrop-filter: blur(8px);
  color:var(--text);
  font-size:24px;
  line-height:0;
  cursor:pointer;
  transition: all 140ms ease;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
}
.closeBtn:hover{
  background: rgba(55,182,255,0.15);
  border-color: rgba(55,182,255,0.35);
  transform:translateY(-50%) scale(1.08);
}

.panel__footer{
  border-top: 1px solid var(--stroke);
  padding: 12px 14px;
  background: rgba(7,10,18,0.45);
}

.incidentList{
  padding: 10px;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.card{
  border:1px solid var(--stroke);
  border-radius:20px;
  padding: 14px;
  background: rgba(9,13,26,0.10);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor:pointer;
  transition: transform 140ms ease, border-color 140ms ease, box-shadow 140ms ease;
  position:relative;
}
.card:hover{
  transform: translateY(-2px) perspective(700px) rotateX(0.8deg);
  border-color: rgba(55,182,255,0.22);
  box-shadow: 0 14px 48px rgba(0,0,0,0.55);
}
.card--selected{border-color: rgba(55,182,255,0.45)}

/* Calm aging visualization: stronger glow as time open increases.
   No flashing; subtle intensification only. */
.age-0{ box-shadow: 0 10px 34px rgba(0,0,0,0.35); }
.age-1{ box-shadow: 0 12px 40px rgba(0,0,0,0.42), 0 0 0 1px rgba(55,182,255,0.10); }
.age-2{ box-shadow: 0 14px 46px rgba(0,0,0,0.48), 0 0 0 1px rgba(255,209,102,0.14); }
.age-3{ box-shadow: 0 16px 52px rgba(0,0,0,0.52), 0 0 0 1px rgba(255,77,109,0.16); }

.card__top{display:flex; align-items:center; justify-content:space-between; gap:10px}
.card__type{font-weight:700; text-transform:uppercase; font-size:12px; letter-spacing:0.5px}
.card__time{font-size:12px; color:var(--muted)}
.card__desc{margin-top:8px; color: rgba(234,240,255,0.88); font-size:13.5px; line-height:1.35}

.card__pri{
  font-family: var(--mono);
  font-size: 11px;
  color: rgba(234,240,255,0.78);
}

.badges{display:flex; gap:8px; margin-top:10px; flex-wrap:wrap}
.badge{
  font-size:11px;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid var(--stroke);
  color:var(--muted);
  background: rgba(7,10,18,0.35);
}
.badge--critical{border-color: rgba(255,77,109,0.35); color: rgba(255,77,109,0.95)}
.badge--attention{border-color: rgba(255,209,102,0.35); color: rgba(255,209,102,0.95)}
.badge--info{border-color: rgba(55,182,255,0.35); color: rgba(55,182,255,0.95)}
.badge--confirm{border-color: rgba(61,255,181,0.35); color: rgba(61,255,181,0.95)}

.pulse{animation: pulse 1.4s ease-in-out infinite}
@keyframes pulse{
  0%,100%{transform: scale(1); opacity: 1}
  50%{transform: scale(1.2); opacity: 0.6}
}

.form{padding: 12px 14px; overflow:auto}
.row{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
.field{display:flex; flex-direction:column; gap:6px; margin-bottom:10px}
.field__label{font-size:12px; color:var(--muted); font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif; font-weight: 500;}
.field__hint{font-size:11px; color: rgba(234,240,255,0.45); font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;}
.field__input{
  padding: 12px 14px;
  border-radius:18px;
  border:2px solid rgba(55,182,255,0.3);
  background: rgba(7,10,18,0.10);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  color:var(--text);
  outline:none;
  box-shadow: 0 0 0 rgba(0,0,0,0);
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-size: 14px;
  font-weight: 500;
  transition: border-color 200ms ease, background 200ms ease, box-shadow 200ms ease;
}
.field__input:focus{
  border-color: rgba(55,182,255,0.7);
  background: rgba(11,16,32,0.25);
  box-shadow: 
    0 0 0 3px rgba(55,182,255,0.15),
    0 0 30px rgba(55,182,255,0.2);
}
.field__input::placeholder{
  color: rgba(234,240,255,0.35);
}
select.field__input{
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='rgba(55,182,255,0.8)' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 14px center;
  padding-right: 40px;
  border-radius: 18px;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-weight: 500;
}
select.field__input option{
  background: rgba(7,10,18,0.98);
  color: var(--text);
  padding: 10px 12px;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  border-radius: 8px;
}

textarea.field__input{resize: vertical}

input[type="file"].field__input{
  padding: 14px 16px;
  border-radius: 20px;
  border: 2px solid rgba(55,182,255,0.5);
  background: rgba(11,16,32,0.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(55,182,255,0.95);
  cursor: pointer;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-weight: 500;
  font-size: 14px;
  box-shadow: 
    0 4px 16px rgba(0,0,0,0.3),
    0 0 30px rgba(55,182,255,0.12);
  transition: all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

input[type="file"].field__input:hover{
  border-color: rgba(55,182,255,0.8);
  background: rgba(11,16,32,0.28);
  box-shadow: 
    0 6px 24px rgba(0,0,0,0.4),
    0 0 50px rgba(55,182,255,0.2),
    0 0 80px rgba(55,182,255,0.1);
  transform: translateY(-1px);
  color: rgba(55,182,255,1);
}

input[type="file"].field__input::file-selector-button{
  padding: 10px 20px;
  border-radius: 16px;
  border: 2px solid rgba(55,182,255,0.5);
  background: rgba(11,16,32,0.18);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  color: rgba(55,182,255,0.95);
  cursor: pointer;
  margin-right: 14px;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-weight: 600;
  font-size: 13px;
  transition: all 200ms ease;
  box-shadow: 0 0 25px rgba(55,182,255,0.12);
}

input[type="file"].field__input::file-selector-button:hover{
  background: rgba(11,16,32,0.35);
  border-color: rgba(55,182,255,0.75);
  box-shadow: 
    0 0 35px rgba(55,182,255,0.2),
    0 0 60px rgba(55,182,255,0.1);
  color: rgba(55,182,255,1);
}

.actions{display:flex; gap:10px; margin-top:6px}
.btn{
  padding: 12px 24px;
  border-radius:18px;
  border:2px solid rgba(55,182,255,0.5);
  background: rgba(11,16,32,0.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: rgba(55,182,255,0.95);
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-weight: 600;
  font-size: 14px;
  letter-spacing: 0.3px;
  cursor:pointer;
  transition: all 250ms cubic-bezier(0.34, 1.56, 0.64, 1);
  position: relative;
  overflow: hidden;
  box-shadow: 
    0 6px 20px rgba(0,0,0,0.3),
    0 0 40px rgba(55,182,255,0.12);
}

.btn:before{
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: 18px;
  padding: 2px;
  background: linear-gradient(135deg, 
    rgba(55,182,255,0.8), 
    rgba(61,255,181,0.7),
    rgba(55,182,255,0.8));
  background-size: 200% 200%;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  opacity: 0.6;
  transition: opacity 250ms ease;
  animation: gradientShift 4s linear infinite;
}

.btn:hover{
  transform: translateY(-2px) scale(1.03);
  border-color: rgba(55,182,255,0.8);
  background: rgba(11,16,32,0.28);
  color: rgba(55,182,255,1);
  box-shadow: 
    0 10px 32px rgba(0,0,0,0.4),
    0 0 60px rgba(55,182,255,0.25),
    0 0 100px rgba(55,182,255,0.12);
}

.btn:hover:before{
  opacity: 1;
}

.btn:active{transform: translateY(0px) scale(0.98)}
.btn--primary{
  border-color: rgba(55,182,255,0.6);
}
.btn--primary:before{
  opacity: 0.7;
}
.btn--danger{
  border-color: rgba(255,77,109,0.6);
  color: rgba(255,77,109,0.95);
}
.btn--danger:before{
  background: linear-gradient(135deg, 
    rgba(255,77,109,0.8), 
    rgba(255,140,107,0.7),
    rgba(255,77,109,0.8));
  background-size: 200% 200%;
  opacity: 0.6;
}
.btn--danger:hover{
  color: rgba(255,77,109,1);
  border-color: rgba(255,77,109,0.8);
  box-shadow: 
    0 10px 32px rgba(0,0,0,0.4),
    0 0 60px rgba(255,77,109,0.25),
    0 0 100px rgba(255,77,109,0.12);
}

.toast{
  margin-top: 12px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid var(--stroke);
  background: rgba(7,10,18,0.35);
  color: var(--muted);
  min-height: 18px;
}

/* AUTH SCREEN */
.authScreen{
  position:fixed;
  inset:0;
  z-index:1000;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(20px);
}

.authCard{
  width: 480px;
  max-width: 90vw;
  background: rgba(11,16,32,0.95);
  border: 1px solid rgba(55,182,255,0.25);
  border-radius: 24px;
  padding: 32px;
  box-shadow: 0 24px 72px rgba(0,0,0,0.7);
}

.authHeader{
  text-align: center;
  margin-bottom: 32px;
}

.authHeader .brand__dot{
  margin: 0 auto 12px;
}

.authHeader h1{
  margin: 12px 0 8px;
  font-size: 24px;
  font-family: Outfit, Inter, sans-serif;
}

.authHeader p{
  color: var(--muted);
  font-size: 14px;
  margin: 0;
}

.authForm h2{
  margin: 0 0 20px;
  font-size: 18px;
  font-family: Outfit, Inter, sans-serif;
}

.authForm .field{
  margin-bottom: 16px;
}

.authForm .btn{
  width: 100%;
  margin-top: 8px;
}

.authSwitch{
  text-align: center;
  margin-top: 20px;
  font-size: 14px;
  color: var(--muted);
}

.authSwitch a{
  color: var(--blue);
  text-decoration: none;
}

.authSwitch a:hover{
  text-decoration: underline;
}

.roleSelection{
  margin: 20px 0;
  padding: 16px;
  border: 1px solid var(--stroke);
  border-radius: 12px;
  background: rgba(7,10,18,0.3);
}

.roleSelection > .field__label{
  display: block;
  margin-bottom: 12px;
  font-weight: 600;
}

.radioLabel{
  display: flex;
  align-items: start;
  gap: 10px;
  padding: 12px;
  margin-bottom: 8px;
  border: 1px solid var(--stroke);
  border-radius: 10px;
  cursor: pointer;
  transition: all 140ms ease;
}

.radioLabel:hover{
  background: rgba(55,182,255,0.08);
  border-color: rgba(55,182,255,0.3);
}

.radioLabel input[type="radio"]{
  margin-top: 2px;
  flex-shrink: 0;
}

.radioLabel span{
  display: block;
  font-weight: 500;
}

.radioLabel small{
  display: block;
  color: var(--muted);
  font-size: 12px;
  margin-top: 4px;
}

#authToast{
  margin-top: 16px;
}


.details{padding: 12px 14px; overflow:auto; flex:1}
.details h3{margin:0 0 10px 0; font-size:16px; letter-spacing:0.2px}
.details .kv{display:grid; grid-template-columns: 140px 1fr; gap:8px; font-size:13px; margin-bottom:10px}
.details .k{color: var(--muted)}
.details .v{color: rgba(234,240,255,0.88)}
.details .v code{font-family: var(--mono); font-size: 12px; color: rgba(234,240,255,0.82)}
.empty{color: var(--muted); padding: 10px}

.priorityBox{
  border: 1px solid var(--stroke);
  border-radius: 14px;
  padding: 12px;
  background: rgba(7,10,18,0.28);
  margin: 10px 0 12px;
}
.priorityTop{display:flex; align-items:baseline; justify-content:space-between; gap:10px}
.priorityTitle{font-weight:700}
.priorityScore{font-family: var(--mono); font-size: 12px; color: rgba(234,240,255,0.86)}
.priorityBars{margin-top:10px; display:flex; flex-direction:column; gap:8px}
.pbar{display:grid; grid-template-columns: 120px 1fr 64px; gap:10px; align-items:center; font-size:12px}
.pbar .label{color: var(--muted)}
.pbar .val{font-family: var(--mono); color: rgba(234,240,255,0.82); text-align:right}
.bar{height:8px; border-radius:999px; background: rgba(234,240,255,0.07); overflow:hidden; border: 1px solid rgba(234,240,255,0.08)}
.bar > span{display:block; height:100%; width: 10%; border-radius:999px; background: rgba(55,182,255,0.55)}
.bar--sev > span{background: rgba(255,77,109,0.52)}
.bar--conf > span{background: rgba(61,255,181,0.50)}
.bar--age > span{background: rgba(255,209,102,0.52)}

.timeline{
  margin-top: 12px;
  border-top: 1px solid var(--stroke);
  padding-top: 12px;
}
.timelineTitle{font-weight:700; margin-bottom:10px}
.titem{display:grid; grid-template-columns: 10px 1fr; gap:10px; padding:10px 0}
.titem + .titem{border-top: 1px dashed rgba(234,240,255,0.08)}
.tdot{width:10px; height:10px; border-radius:999px; margin-top:3px; box-shadow: 0 0 18px rgba(55,182,255,0.22)}
.tdot--system{background: rgba(55,182,255,0.90)}
.tdot--crowd{background: rgba(61,255,181,0.90)}
.tdot--responder{background: rgba(255,209,102,0.92)}
.thead{display:flex; gap:10px; align-items:baseline; justify-content:space-between}
.tmeta{font-size:12px; color: var(--muted); font-family: var(--mono)}
.taction{font-weight:600; font-size:13px}
.tdetail{margin-top:4px; font-size:13px; color: rgba(234,240,255,0.84); line-height:1.35}

.ack{animation: ack 260ms ease-out}
@keyframes ack{from{box-shadow: 0 0 0 0 rgba(55,182,255,0.00)} to{box-shadow: 0 0 0 6px rgba(55,182,255,0.08)}}

.adminTitle{font-weight:700; margin-bottom:10px}
.adminControls{display:grid; grid-template-columns: 1fr 1fr; gap:10px; align-items:end}

.metricsGrid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  margin-bottom: 14px;
}
.metricCard{
  border: 2px solid rgba(55,182,255,0.3);
  border-radius: 20px;
  padding: 16px;
  background: rgba(9,13,26,0.12);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  text-align: center;
}
.metricValue{
  font-size: 28px;
  font-weight: 700;
  font-family: var(--mono);
  color: var(--blue);
  line-height: 1;
}
.metricLabel{
  font-size: 11px;
  color: var(--muted);
  margin-top: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.metricCard--critical .metricValue{color: var(--red)}
.metricCard--warn .metricValue{color: var(--yellow)}
.metricCard--ok .metricValue{color: var(--green)}

.quickActions{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 14px;
}
.quickActions .btn{
  width: 100%;
  text-align: center;
}

/* Live Incident Map (OpenStreetMap + Leaflet) */
.mapSection{
  margin-top: 16px;
  border: 2px solid rgba(55,182,255,0.3);
  border-radius: 20px;
  overflow: hidden;
  background: rgba(8,12,24,0.10);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.mapTitle{
  font-weight: 600;
  font-size: 13px;
  padding: 12px 14px;
  border-bottom: 1px solid rgba(55,182,255,0.2);
  color: var(--blue);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
}

.incidentMap{
  width: 100%;
  height: 420px;
  position: relative;
  z-index: 1;
}

/* Override Leaflet default styles to match theme */
.leaflet-container{
  background: rgba(8,12,24,0.5);
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
}

.leaflet-popup-content-wrapper{
  background: rgba(11,16,32,0.95);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(55,182,255,0.3);
  border-radius: 12px;
  color: var(--text);
  box-shadow: 
    0 8px 24px rgba(0,0,0,0.6),
    0 0 40px rgba(55,182,255,0.15);
}

.leaflet-popup-tip{
  background: rgba(11,16,32,0.95);
  border: 1px solid rgba(55,182,255,0.3);
}

.leaflet-popup-content{
  margin: 12px;
  font-size: 13px;
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
}

.leaflet-control-zoom a{
  background: rgba(11,16,32,0.85) !important;
  border: 1px solid rgba(55,182,255,0.3) !important;
  color: rgba(55,182,255,0.95) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.leaflet-control-zoom a:hover{
  background: rgba(11,16,32,0.95) !important;
  border-color: rgba(55,182,255,0.5) !important;
}

.filterSection{
  border: 1px solid var(--stroke);
  border-radius: 12px;
  padding: 12px;
  background: rgba(7,10,18,0.28);
  margin-bottom: 12px;
}
.filterTitle{
  font-weight: 600;
  font-size: 12px;
  margin-bottom: 10px;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

@media (max-width: 1100px){
  body{overflow:auto}
  .layout{grid-template-columns: 1fr; height:auto}
}

@keyframes fadeIn { from { opacity:0; transform: translateY(6px);} to { opacity:1; transform: translateY(0);} }

@keyframes slideInFromLeft {
  0% {
    opacity: 0;
    transform: translateX(-180px) scale(0.92);
    filter: blur(12px) brightness(0.3);
  }
  60% {
    opacity: 0.8;
    transform: translateX(10px) scale(1.01);
    filter: blur(2px) brightness(0.9);
  }
  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
    filter: blur(0) brightness(1);
  }
}

@keyframes slideOutToRight {
  0% {
    opacity: 1;
    transform: translateX(0) scale(1);
    filter: blur(0) brightness(1);
  }
  100% {
    opacity: 0;
    transform: translateX(180px) scale(0.92);
    filter: blur(12px) brightness(0.3);
  }
}

.view-transition-enter {
  animation: slideInFromLeft 900ms cubic-bezier(0.16, 1, 0.3, 1);
}

.view-transition-exit {
  animation: slideOutToRight 450ms cubic-bezier(0.4, 0, 1, 1) forwards;
}

.view-transition-enter-delay-1 {
  animation: slideInFromLeft 900ms cubic-bezier(0.16, 1, 0.3, 1);
  animation-delay: 250ms;
  opacity: 0;
  animation-fill-mode: both;
}

.view-transition-enter-delay-2 {
  animation: slideInFromLeft 900ms cubic-bezier(0.16, 1, 0.3, 1);
  animation-delay: 500ms;
  opacity: 0;
  animation-fill-mode: both;
}

.view-transition-exit-delay-1 {
  animation: slideOutToRight 450ms cubic-bezier(0.4, 0, 1, 1) forwards;
  animation-delay: 150ms;
}

.view-transition-exit-delay-2 {
  animation: slideOutToRight 450ms cubic-bezier(0.4, 0, 1, 1) forwards;
  animation-delay: 300ms;
}

/* Auth Screen */
.authScreen {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(1200px 900px at 50% -20%, rgba(55,182,255,0.15), transparent 60%),
    radial-gradient(1000px 800px at 80% 80%, rgba(255,77,109,0.12), transparent 65%),
    radial-gradient(900px 700px at 10% 60%, rgba(61,255,181,0.10), transparent 60%),
    #000000;
  backdrop-filter: blur(20px);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: auto;
  padding: 20px;
}

.authParticles {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  opacity: 0.8;
}

.authCard {
  position: relative;
  width: 100%;
  max-width: 480px;
  background: linear-gradient(
    135deg,
    rgba(11,16,32,0.95) 0%,
    rgba(7,10,18,0.92) 100%
  );
  border: 1px solid rgba(234,240,255,0.15);
  border-radius: 24px;
  padding: 48px 40px;
  box-shadow: 
    0 25px 80px rgba(0,0,0,0.7),
    0 0 1px rgba(234,240,255,0.3),
    inset 0 1px 0 rgba(234,240,255,0.08);
  backdrop-filter: blur(40px);
  z-index: 1;
  animation: authCardEnter 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes authCardEnter {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
    filter: blur(10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
}

.authCard::before {
  content: '';
  position: absolute;
  inset: -1px;
  background: linear-gradient(
    135deg,
    rgba(55,182,255,0.4) 0%,
    rgba(61,255,181,0.3) 50%,
    rgba(255,77,109,0.4) 100%
  );
  border-radius: 24px;
  padding: 2px;
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.6;
  animation: borderShine 3s linear infinite;
}

@keyframes borderShine {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.authHeader {
  text-align: center;
  margin-bottom: 36px;
}

.authLogo {
  position: relative;
  width: 80px;
  height: 80px;
  margin: 0 auto 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.authLogo .brand__dot {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--blue), var(--green));
  box-shadow: 
    0 0 30px rgba(55,182,255,0.6),
    0 0 60px rgba(61,255,181,0.3);
  z-index: 2;
  position: relative;
}

.authLogoRings {
  position: absolute;
  inset: 0;
}

.ring {
  position: absolute;
  inset: 0;
  border: 2px solid;
  border-radius: 50%;
  opacity: 0.4;
  animation: ringPulse 2s ease-out infinite;
}

.ring-1 {
  border-color: rgba(55,182,255,0.6);
  animation-delay: 0s;
}

.ring-2 {
  border-color: rgba(61,255,181,0.5);
  animation-delay: 0.6s;
}

.ring-3 {
  border-color: rgba(255,77,109,0.4);
  animation-delay: 1.2s;
}

@keyframes ringPulse {
  0% {
    transform: scale(0.4);
    opacity: 0.6;
  }
  50% {
    transform: scale(1);
    opacity: 0.2;
  }
  100% {
    transform: scale(1.4);
    opacity: 0;
  }
}

.authHeader h1 {
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
  font-size: 28px;
  font-weight: 700;
  margin: 0 0 8px;
  background: linear-gradient(135deg, var(--blue), var(--green));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.5px;
}

.authTagline {
  font-size: 14px;
  color: rgba(234,240,255,0.65);
  margin: 0;
  font-weight: 500;
}

.authForm {
  animation: formSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes formSlideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.authForm h2 {
  font-size: 22px;
  font-weight: 700;
  margin: 0 0 8px;
  color: var(--text);
  font-family: Outfit, Inter, ui-sans-serif, system-ui, sans-serif;
}

.authSubtitle {
  font-size: 13px;
  color: rgba(234,240,255,0.6);
  margin: 0 0 28px;
}

.inputGroup {
  position: relative;
  margin-bottom: 16px;
}

.inputIcon {
  position: absolute;
  left: 16px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 18px;
  z-index: 2;
  filter: grayscale(0.3);
}

.authInput {
  width: 100%;
  padding: 14px 16px 14px 50px;
  background: rgba(7,10,18,0.6);
  border: 1px solid rgba(234,240,255,0.12);
  border-radius: 12px;
  color: var(--text);
  font-size: 14px;
  font-family: inherit;
  transition: all 0.3s ease;
  outline: none;
}

.authInput:focus {
  background: rgba(7,10,18,0.8);
  border-color: rgba(55,182,255,0.5);
  box-shadow: 
    0 0 0 3px rgba(55,182,255,0.1),
    0 4px 12px rgba(55,182,255,0.15);
}

.authInput::placeholder {
  color: rgba(234,240,255,0.4);
}

.authButton {
  width: 100%;
  padding: 14px 24px;
  border: none;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 600;
  font-family: inherit;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  margin-top: 8px;
}

.authButton--primary {
  background: linear-gradient(135deg, var(--blue), var(--green));
  color: #000;
  box-shadow: 
    0 4px 16px rgba(55,182,255,0.35),
    0 2px 8px rgba(61,255,181,0.25);
}

.authButton--primary:hover {
  transform: translateY(-2px);
  box-shadow: 
    0 8px 24px rgba(55,182,255,0.45),
    0 4px 12px rgba(61,255,181,0.35);
}

.authButton--primary:active {
  transform: translateY(0);
}

.btnShine {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255,255,255,0.4),
    transparent
  );
  animation: buttonShine 3s ease-in-out infinite;
}

@keyframes buttonShine {
  0%, 100% { left: -100%; }
  50% { left: 100%; }
}

.authButton--secondary {
  background: rgba(234,240,255,0.08);
  border: 1px solid rgba(234,240,255,0.15);
  color: rgba(234,240,255,0.85);
}

.authButton--secondary:hover {
  background: rgba(234,240,255,0.12);
  border-color: rgba(234,240,255,0.25);
  transform: translateY(-1px);
}

.authButton--google {
  background: #ffffff;
  border: 1px solid rgba(0,0,0,0.12);
  color: #1f1f1f;
  font-weight: 500;
}

.authButton--google:hover {
  background: #f8f9fa;
  border-color: rgba(0,0,0,0.18);
  box-shadow: 0 2px 8px rgba(66,133,244,0.3);
  transform: translateY(-1px);
}

.authButton--google:active {
  background: #f1f3f4;
  transform: translateY(0);
}

.authDivider {
  margin: 24px 0 16px;
  text-align: center;
  position: relative;
}

.authDivider::before,
.authDivider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: calc(50% - 80px);
  height: 1px;
  background: linear-gradient(
    to right,
    transparent,
    rgba(234,240,255,0.2),
    transparent
  );
}

.authDivider::before { left: 0; }
.authDivider::after { right: 0; }

.authDivider span {
  font-size: 12px;
  color: rgba(234,240,255,0.5);
  background: rgba(7,10,18,0.8);
  padding: 0 16px;
  position: relative;
  z-index: 1;
}

.roleSelection {
  margin: 24px 0;
}

.roleTitle {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: rgba(234,240,255,0.85);
  margin-bottom: 12px;
}

.roleOptions {
  display: grid;
  gap: 12px;
}

.roleCard {
  position: relative;
  cursor: pointer;
  display: block;
}

.roleCard input[type="radio"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.roleCardContent {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: rgba(7,10,18,0.5);
  border: 2px solid rgba(234,240,255,0.12);
  border-radius: 12px;
  transition: all 0.3s ease;
}

.roleCard:hover .roleCardContent {
  background: rgba(7,10,18,0.7);
  border-color: rgba(234,240,255,0.2);
  transform: translateX(4px);
}

.roleCard input:checked + .roleCardContent {
  background: linear-gradient(
    135deg,
    rgba(55,182,255,0.15),
    rgba(61,255,181,0.10)
  );
  border-color: rgba(55,182,255,0.5);
  box-shadow: 
    0 0 0 3px rgba(55,182,255,0.1),
    0 4px 12px rgba(55,182,255,0.2);
}

.roleIcon {
  font-size: 24px;
  filter: grayscale(0.3);
}

.roleCard input:checked + .roleCardContent .roleIcon {
  filter: grayscale(0);
  animation: iconPop 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes iconPop {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}

.roleInfo {
  text-align: left;
}

.roleName {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  margin-bottom: 2px;
}

.roleDesc {
  font-size: 12px;
  color: rgba(234,240,255,0.6);
}

.roleCheck {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid rgba(234,240,255,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: transparent;
  transition: all 0.3s ease;
}

.roleCard input:checked + .roleCardContent .roleCheck {
  background: linear-gradient(135deg, var(--blue), var(--green));
  border-color: transparent;
  color: #000;
  font-weight: 700;
}

.authToast {
  margin-top: 20px;
  padding: 12px 16px;
  background: rgba(55,182,255,0.15);
  border: 1px solid rgba(55,182,255,0.3);
  border-radius: 10px;
  color: var(--blue);
  font-size: 13px;
  font-weight: 500;
  text-align: center;
  min-height: 20px;
  transition: all 0.3s ease;
}

.authToast:empty {
  opacity: 0;
  padding: 0;
  margin: 0;
  min-height: 0;
  border: none;
}

/* Responsive */
@media (max-width: 600px) {
  .authCard {
    padding: 32px 24px;
  }
  
  .authHeader h1 {
    font-size: 24px;
  }
  
  .authLogo {
    width: 60px;
    height: 60px;
  }
  
  .authLogo .brand__dot {
    width: 20px;
    height: 20px;
  }
}
  .view-transition-enter{animation:none}
  .view-transition-exit{animation:none}
  .view-transition-enter-delay-1{animation:none}
  .view-transition-enter-delay-2{animation:none}
  .view-transition-exit-delay-1{animation:none}
  .view-transition-exit-delay-2{animation:none}
  .panel:before{animation:none}
}
/* Poll UI */
.pollButtons {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(234,240,255,0.08);
}

.pollBtn {
  flex: 1;
  padding: 6px 10px;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 0.3px;
  border: 1px solid rgba(234,240,255,0.15);
  background: rgba(11,16,32,0.4);
  color: rgba(234,240,255,0.85);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
}

.pollBtn:hover {
  background: rgba(11,16,32,0.7);
  border-color: rgba(234,240,255,0.3);
  transform: translateY(-1px);
}

.pollBtn--confirm:hover {
  border-color: var(--green);
  color: var(--green);
  box-shadow: 0 0 12px rgba(61,255,181,0.3);
}

.pollBtn--deny:hover {
  border-color: var(--red);
  color: var(--red);
  box-shadow: 0 0 12px rgba(255,77,109,0.3);
}

.pollBtn--unsure:hover {
  border-color: var(--yellow);
  color: var(--yellow);
  box-shadow: 0 0 12px rgba(255,209,102,0.3);
}

.pollStatus {
  margin-top: 10px;
  padding: 8px 12px;
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.3px;
  background: rgba(61,255,181,0.08);
  border: 1px solid rgba(61,255,181,0.2);
  border-radius: 4px;
  color: var(--green);
  text-align: center;
}

/* CUSTOM MODAL */
.customModal {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: modalFadeIn 0.2s ease-out;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modalOverlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(8px);
  animation: overlayFadeIn 0.2s ease-out;
}

@keyframes overlayFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.modalContent {
  position: relative;
  background: linear-gradient(135deg, var(--panel) 0%, var(--panel2) 100%);
  border: 1px solid rgba(67, 94, 255, 0.2);
  border-radius: 16px;
  padding: 32px;
  max-width: 440px;
  width: 90%;
  box-shadow: 
    0 0 0 1px rgba(55, 182, 255, 0.1),
    0 24px 64px rgba(0, 0, 0, 0.6),
    0 0 80px rgba(67, 94, 255, 0.15);
  animation: modalSlideUp 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  text-align: center;
}

@keyframes modalSlideUp {
  from {
    transform: translateY(30px) scale(0.95);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

.modalIcon {
  font-size: 48px;
  margin-bottom: 16px;
  filter: drop-shadow(0 0 20px rgba(255, 209, 102, 0.4));
  animation: iconPulse 2s ease-in-out infinite;
}

@keyframes iconPulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

.modalTitle {
  margin: 0 0 12px 0;
  font-size: 22px;
  font-weight: 600;
  color: var(--text);
  font-family: Outfit, Inter, sans-serif;
  letter-spacing: 0.3px;
}

.modalMessage {
  margin: 0 0 28px 0;
  font-size: 15px;
  color: var(--muted);
  line-height: 1.6;
}

.modalButtons {
  display: flex;
  gap: 12px;
  justify-content: center;
}

.modalBtn {
  padding: 12px 28px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  font-family: Outfit, Inter, sans-serif;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid transparent;
  min-width: 120px;
}

.modalBtn--cancel {
  background: rgba(234, 240, 255, 0.05);
  color: var(--muted);
  border-color: var(--stroke);
}

.modalBtn--cancel:hover {
  background: rgba(234, 240, 255, 0.1);
  color: var(--text);
  border-color: rgba(234, 240, 255, 0.2);
  transform: translateY(-1px);
}

.modalBtn--confirm {
  background: linear-gradient(135deg, #FF4D6D 0%, #FF3355 100%);
  color: white;
  border-color: rgba(255, 77, 109, 0.3);
  box-shadow: 
    0 0 0 1px rgba(255, 77, 109, 0.2),
    0 4px 12px rgba(255, 77, 109, 0.3);
}

.modalBtn--confirm:hover {
  background: linear-gradient(135deg, #FF3355 0%, #FF1A44 100%);
  box-shadow: 
    0 0 0 1px rgba(255, 77, 109, 0.3),
    0 6px 20px rgba(255, 77, 109, 0.4);
  transform: translateY(-2px);
}

.modalBtn--confirm:active {
  transform: translateY(0);
}